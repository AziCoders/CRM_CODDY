# üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º –æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
1. ‚úÖ –ï—Å—Ç—å –ª–∏ —Å–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–µ —É –≥—Ä—É–ø–ø—ã (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é)
2. ‚úÖ –û—Ç–º–µ—á–µ–Ω–∞ –ª–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –≤ Notion –∑–∞ —Å–µ–≥–æ–¥–Ω—è
3. ‚úÖ –ï—Å–ª–∏ –Ω–µ—Ç - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é

**–í—Ä–µ–º–µ–Ω–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π:** 19:00, 20:00, 22:00

---

## –°–ø–æ—Å–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –≤ –±–æ—Ç–µ (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   python bot/main.py
   ```

2. **–í Telegram –±–æ—Ç–µ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞):**
   - `/check_attendance_reminder` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–º –≥—Ä—É–ø–ø–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (–±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏)
   - `/test_attendance_reminder` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

#### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä—É–ø–ø (–±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π)
```bash
python t/test_attendance_reminder.py
```
–ü–æ–∫–∞–∂–µ—Ç:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
- –ò—Ö –≥—Ä—É–ø–ø—ã
- –ï—Å—Ç—å –ª–∏ —Å–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–µ
- –û—Ç–º–µ—á–µ–Ω–∞ –ª–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å
- –ö–∞–∫–∏–º –≥—Ä—É–ø–ø–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ

#### 2. –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
```bash
python t/test_send_attendance_reminder.py
```
**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º!

---

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π  
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥—Ä—É–ø–ø—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π  
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–µ—Å—Ç—å –ª–∏ –∑–∞–Ω—è—Ç–∏–µ —Å–µ–≥–æ–¥–Ω—è)  
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –≤ Notion  
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω—É–∂–Ω—ã–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º  

---

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é:

```
üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

üè´ –ì—Ä—É–ø–ø–∞: –ù–∞–∑—Ä–∞–Ω—å –≤—Ç/—Å—Ä 14:00
üèôÔ∏è –ì–æ—Ä–æ–¥: –ù–∞–∑—Ä–∞–Ω—å

‚ö†Ô∏è –í—ã –µ—â–µ –Ω–µ –æ—Ç–º–µ—Ç–∏–ª–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∑–∞ —Å–µ–≥–æ–¥–Ω—è.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–º–µ—Ç—å—Ç–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª '–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å' –≤ –º–µ–Ω—é.
```

---

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞

–§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 19:00, 20:00 –∏ 22:00** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º, –µ—Å–ª–∏:
- –°–µ–≥–æ–¥–Ω—è –µ—Å—Ç—å –∑–∞–Ω—è—Ç–∏–µ —É –≥—Ä—É–ø–ø—ã
- –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –µ—â–µ –Ω–µ –æ—Ç–º–µ—á–µ–Ω–∞

---

## –£—Å–ª–æ–≤–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

1. **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ roles.json:**
   ```json
   {
     "123456789": {
       "fio": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
       "role": "teacher",
       "city": "–ù–∞–∑—Ä–∞–Ω—å"
     }
   }
   ```

2. **–£ –≥—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏:**
   - –ù–∞–ø—Ä–∏–º–µ—Ä: "–ù–∞–∑—Ä–∞–Ω—å –≤—Ç/—Å—Ä 14:00"
   - –°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏—Ç –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ –∏ –≤—Ä–µ–º—è

3. **–°–µ–≥–æ–¥–Ω—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–µ–Ω—å –∑–∞–Ω—è—Ç–∏–π:**
   - –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ "–≤—Ç/—Å—Ä", —Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ç–æ—Ä–Ω–∏–∫ –∏–ª–∏ —Å—Ä–µ–¥—É

4. **–ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω–∞:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ Notion –ø–æ attendance_db_id –≥—Ä—É–ø–ø—ã

---

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `roles.json` - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å `"role": "teacher"`
- –£ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω `"city"`

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –Ω–∞—Ö–æ–¥–∏—Ç –≥—Ä—É–ø–ø—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `data/{city}/groups.json`
- –í –≥—Ä—É–ø–ø–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω "–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å" (–§–ò–û –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –§–ò–û –≤ roles.json)

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ –∏ –≤—Ä–µ–º—è
- –§–æ—Ä–º–∞—Ç: "–ì–æ—Ä–æ–¥ –¥–¥/–¥–¥ –ß–ß:–ú–ú"
- –ù–∞–ø—Ä–∏–º–µ—Ä: "–ù–∞–∑—Ä–∞–Ω—å –≤—Ç/—Å—Ä 14:00"

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (19:00, 20:00, 22:00)
- –£–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ —Å–µ–≥–æ–¥–Ω—è (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `sent_reminders`)
- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —É–∂–µ –æ—Ç–º–µ—Ç–∏–ª –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å
- –°–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –∑–∞–Ω—è—Ç–∏–π —É –≥—Ä—É–ø–ø—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/test_attendance_reminder` –¥–ª—è —Ä—É—á–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç `test_send_attendance_reminder.py`

---

## –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/check_attendance_reminder` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä—É–ø–ø—ã –±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| `/test_attendance_reminder` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è |
| `/check_absence` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—á–µ–Ω–∏–∫–æ–≤ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è–º–∏ |
| `/test_absence` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è—Ö |

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å `/check_attendance_reminder`** - —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –≥—Ä—É–ø–ø—ã
2. **–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `test_attendance_reminder.py`** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
3. **–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/test_attendance_reminder`** –∏–ª–∏ `test_send_attendance_reminder.py`

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –¥–µ–Ω—å –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
- –ï—Å–ª–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—Ç–∏–ª –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –ø–æ—Å–ª–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç Notion –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –æ—Ç–º–µ—á–µ–Ω–∞ –ª–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å
